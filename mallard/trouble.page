<?xml version="1.0" encoding="utf-8"?>
<page xmlns="http://projectmallard.org/1.0/" xmlns:ui="http://projectmallard.org/experimental/ui/" type="topic" id="trouble">
  <info>
    <link type="guide" xref="index" group="#last"/>
    <desc>What to do if things don't work as expected</desc>
    <credit type="author">
      <name>Ista Zahn, Â©President &amp; Fellows of Harvard College</name>
      <email>izahn@hbs.edu</email>
      <years>2020</years>
      <copyright>President &amp; Fellows of Harvard College.</copyright>
    </credit>    
  </info>
  <links type="section"/>
  <title>Troubleshooting</title>

  <p>The software documented here is <em>under active development</em> and may break 
  or cause other problems. If things go wrong please let us know by opening an issue at 
  <link href="https://code.harvard.edu/HBS/rcs__cluster_software_modules/issues"/> so we can fix it.</p>

  <section id="trouble">
    <title>Basic troubleshooting steps</title>

    <p>If you are experiencing problems with the desktop or application launchers, a good first step is to re-start your desktop
    using the <gui>HBS Grid Configuration</gui> utility in the <gui>Applications => Accessories</gui> menu.</p>
    <p>If problems persist you can <em>terminate</em> your <app>NoMachine</app> session and start a new one. This will
    re-initialize your desktop environment and resolve many issues that can occur when your settings get out of sync.</p>
  </section>

  <section id="bugs">
    <title>Known bugs and work-arounds</title>

    <section id="killed">
      <title>My application just disappeared!</title>

      <p>Users are often surprised to find that their application just disappears, often after running for several hours or days.
      Usually this happens because your application was killed by the system after exceeding a time or memory limit. For
      example, jobs running in the <em>short interactive queue</em> are limited to a maximum runtime of 24 hours. After 24
      hours your job will be killed without warning or notice. Similarly, the system will kill your job if it tries to use more
      memory than you requested when you started the job.</p>

      <p>You can avoid having your job killed by staying within the system and job limits. These limits are described in more detail in
      <link xref="menulaunch#limits"/> and <link xref="commandline#queues"/>.</p>
    </section>
    
    <section id="fileassociations">
      <title>File associations broken when desktop icons are enabled</title>
      
      <p>A known bug currently previents file associations from working properly when <gui>desktop icons</gui> are enabled
      or when the <app>Files</app> application is auto-started. A work-around is to disable desktop icons following these steps:</p>

      <steps>
        <item>
          <p>Open the <gui>Tweaks</gui> application from the <gui>Applications</gui> menu or by searching in <gui>Activities</gui>.</p>
        </item>
        <item>
          <p>Under the <gui>Desktop</gui> tab on the left, ensure that <gui>Show Icons</gui> is toggled off.</p>
        </item>
        <item>
          <p>Under the <gui>Startup Applications</gui> tab, ensure that <app>Files</app> does not appear in the list of auto-started applications.</p>
        </item>
        <item>
          <p><em>Terminate</em> your <app>NoMachine</app> desktop session and start a new one.</p>
        </item>      
      </steps>

      <p><em style="strong">Click the video thumbnail below</em> for a video demonstrating these steps.</p>

      <ui:overlay width="250" height="150">
        <media type="video" src="no_nautilus_autostart.webm" width="100%">
        </media>
      </ui:overlay>
    </section>

  </section>
  <section id="disable">
    <title>Disabling the technology preview</title> 
    <p>If you wish you can disable technology preview features entirely by starting the <app>HBS Grid configuration</app> utility
    and turning off the technology preview features, as shown below.</p>

    <media type="image" src="images/GridConfigReset.png"/>

    <p>Selecting the <gui>Stable/Standard</gui> option under <em>HBS Grid launcher style</em>
    will mostly restore your system to the original state. To ensure that your environment is
    completely reset terminate your NoMachine session and start a new one.</p>
  </section>

  <section id="support">
    <title>Support and feedback</title>

    <p>It is our hope that the software "Technology Preview" described here will be useful and help make
    the HBS Grid more user-friendly. If you do run into issues we would love to hear about 
    them so we can make this software better. You can email us at 
    <link href="mailto:research@hbs.edu"/>, or open an issue at 
    <link href="https://code.harvard.edu/HBS/rcs__cluster_software_modules/issues"/> with a description of
    what didn't work. Feature requests are also appreciated!</p>

    <p>Happy computing!</p>
  </section>
</page>
